{% extends "../shop/base.html" %}
{% load static %}
{% block title %}Basket Summary{% endblock %}
{% block content %}

    <main class="pt-5">
        <div class="container" style="max-width: 1000px">
            <div class="col-12">
                <h1 class="h2">Your Basket</h1>
            </div>
            <div class="col-12">
                <p>Manage <b>items</b> in your basket</p>
            </div>
            <hr/>
        </div>
        <div class="container" style="max-width: 1000px">

            <div class="row g-3">
                <div class="col-12 bg-light p-3 d-flex justify-content-between">
                    <div class="d-flex d-flex-inline">
                        <div class="pe-3">Order</div>
                        <div class="dropdown">
                            <a class="text-reset text-decoration-none dropdown-toggle" href="#" role="link"
                               id="dropdownLink" data-bs-toggle="dropdown" aria-expanded="false">
                                Shipping options
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor"
                                     class="bi bi-chevron-down" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                          d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                                </svg>
                            </a>

                            <ul class="dropdown-menu" aria-labelledby="dropdownLink">
                                <li class="item small">Next day delivery</li>
                                <li class="item small">Premimum delivery</li>
                            </ul>
                        </div>
                    </div>

                </div>

                <div class="col-md-7 col-lg-8 p-0">


                    {% for item in basket %}
                        {% if item.quantity == 0 %}
                            <div class="card mb-3 border-0 product-item">
                                <div class="row g-0">

                                    <div class="col-md-10 ps-md-3">
                                        <div class="card-body p-1">
                                            <a class="text-decoration-none text-reset">
                                                <p class="card-text pb-3"></p>
                                            </a
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% else %}
                            <div class="card mb-3 border-0 product-item">
                                <div class="row g-0">
                                    <div class="col-md-2 d-none d-md-block">
                                        <img class="img-fluid mx-auto d-block" alt="Responsive image" height="100px"
                                             src="{{ item.product.display_image.url }}"/>
                                    </div>
                                    <div class="col-md-10 ps-md-3">
                                        <div class="card-body p-1">
                                            <a class="text-decoration-none text-reset"
                                               href="{{ item.product.get_absolute_url }}">
                                                <p class="card-text pb-3">{{ item.product.name }}</p>
                                            </a>
                                            <label for="select">{{ item.quantity }}</label>

                                            <a type="button" href="{% url 'basket:add_to_cart' item.product.slug %}"
                                               class="update-button text-decoration-none small ps-3">Update</a>
                                            <a type="button"
                                               href="{% url 'basket:remove_cart_item' item.product.slug %}"
                                               class="delete-button text-decoration-none small">Delete</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endif %}
                    {% endfor %}


                    <div class="col-md-5 col-lg-4 order-md-last p-0 order-3">
                        <div class="d-grid gap-2 ">
                            <a role="button" href="#" class="btn btn-success fw-bold" type="button">Checkout</a>
                            <button class="btn btn-light" type="button">Save for later</button>
                        </div>
                    </div>
                    <div class="text-end">

                        <div class="">Sub Total: <span class="fw-bold">£</span>
                            <div id="subtotal" class="d-inline-flex fw-bold"></div>
                        </div>
                        <div id="">Shipping <span class="small">(Next day delivery)</span>: <span
                                class="fw-bold">£11.50</span></div>
                        <div class="pt-2">Total to pay: <span class="fw-bold h5">£</span><span id="total"
                                                                                               class="fw-bold h5"></span>
                        </div>

                    </div>

                </div>
            </div>

        </div>
    </main>

{% endblock %}